{% extends 'bakery/base.html' %}

{% block title %}Корзина{% endblock %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container mt-5">
  <h2>Ваша корзина</h2>

  {% if cart_items %}
  <ul class="list-group">
    {% for item in cart_items %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      {{ item.name }} — {{ item.quantity }} шт. × {{ item.price }}֏ = {{ item.subtotal }}֏
    </li>
    {% endfor %}
  </ul>

  <div class="d-flex justify-content-between mt-3">
    <p><strong>Итого:</strong> {{ total }}֏</p>
    <div>
      <a href="{% url 'checkout' %}" class="btn btn-primary">Перейти к оформлению заказа</a><br>
      <a href="{% url 'clear_cart' %}" class="btn btn-danger mt-2">Очистить корзину</a>
    </div>
  </div>

  {% else %}
  <p class="alert alert-info">Корзина пуста.</p>
  {% endif %}
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}
